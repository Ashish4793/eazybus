<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>EazyBus</title>
    <meta name="theme-color" content="#010483">
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="../assets/img/favicon.png" rel="icon">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">


    <!-- Template Main CSS File -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="../assets/css/book.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">

</head>
<style>
    h1 {
        font-size: 36px;
        font-weight: 600;
        margin-bottom: 30px;
    }

    .card {
        border-radius: 10px;
        background-color: #ffffff;
        margin-bottom: 20px;
    }

    .card-body {
        padding: 20px;
    }

    .list-group-item {
        font-size: 16px;
        font-weight: 400;
        margin-bottom: 10px;
    }

    .list-group-item strong {
        font-weight: 600;
    }

    .list-group-item .btn {
        background-color: #000000;
        color: #ffffff;
        font-size: 16px;
        font-weight: 600;
        border-radius: 5px;
        padding: 10px 20px;
        margin-top: 10px;
    }
    * {
        -webkit-print-color-adjust: exact !important;
        /* Chrome, Safari 6 – 15.3, Edge */
        color-adjust: exact !important;
        /* Firefox 48 – 96 */
        print-color-adjust: exact !important;
        /* Firefox 97+, Safari 15.4+ */
    }
</style>

<body>

    <!-- ======= Header ======= -->
    <header style="background-color: #01036f;" id="header"
        class="fixed-top d-flex align-items-center header-transparent">
        <div class="container d-flex align-items-center justify-content-between">

            <div class="logo">
                <h1><a href="/"><img style="margin-bottom: 0.5rem;" width="37px" src="../assets/img/favicon.png" alt="logo"><span>EazyBus</span></a></h1>
            </div>

            <nav id="navbar" class="navbar">
                <ul>
                    <li><a class="nav-link scrollto active" href="/">Home</a></li>
                    <li class="dropdown"><a href="#"><span>My Account</span> <i class="bi bi-chevron-down"></i></a>
                        <ul>
                            <li><a href="/bookings">Trips<i class="fa-solid fa-suitcase-rolling"></i></a></li>
                            <li><a href="/profile">Profile<i class="fa-solid fa-user"></i></a></li>
                            <li><a href="/wallet">Wallet<i class="fa-solid fa-wallet"></i></a></li>
                        </ul>
                    </li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav><!-- .navbar -->

        </div>
    </header><!-- End Header -->



    <!-- START #main -->
    <main id="main">
        <section style="margin-top: 1rem;">
            <div style="margin-top: 2rem; margin-bottom: 1rem;" class="container back">
                <a href="/bookings/<%= foundBooking.bookingID %>">
                    <button style="background-color: transparent; color: #000000; border: none; font-size: 12px;" type="button"
                        class="btn btn-primary"><i style="margin-right: 4px;" class="fa-solid fa-arrow-left fa-sm"
                            style="color: #000000;"></i>Go Back</button>
                </a>
            </div>
            <% function myFunction(time){ %>
                <% let a; %>
                    <%if (time> "11:59" && time < "23:59" ){ %>
                            <% a=" PM" ; %>
                                <%} else { %>
                                    <%a=" AM" ; %>
                                        <%} %>
                                            <%const final=time + a; %>%>
                                                <%return final; %>
                                                    <%}%>
                                                        <% const dep_time=myFunction(foundBooking.dep_time) %>
                                                            <% const arr_time=myFunction(foundBooking.arr_time) %>
                                                                <div>
                                                                    <div id="mTicket" style="margin-top: 1rem;" class="container">
                                                                        <div style="margin-bottom: 1rem;" class="text-center">
                                                                            <img width="45px"  src="../assets/img/favicon.png" alt="eazybus logo"/>
                                                                            <a style="font-size: 22px; font-weight: 600;" >EazyBus</a>
                                                                        </div>
                                                                        
                                                                        <div style="border: 1px solid black;"
                                                                            class="card">
                                                                            <h3 style="margin-top: 0.5rem;" class="text-center">M-Ticket</h3>
                                                                            <div class="card-body">
                                                                                <h5 class="card-title">Trip Details</h5>
                                                                                <ul class="list-group list-group-flush">
                                                                                    <li class="list-group-item">
                                                                                        <strong>Booking ID:</strong>
                                                                                        <%= foundBooking.bookingID %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Route:</strong>
                                                                                        <%= foundBooking.origin %> to
                                                                                            <%= foundBooking.destination
                                                                                                %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Passenger Name:</strong>
                                                                                        <%= foundBooking.pax_name %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Bus Service
                                                                                            Number:</strong>
                                                                                        <%= foundBooking.service_no %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Departure Date:</strong>
                                                                                        <%= foundBooking.journeyDate %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Departure Time:</strong>
                                                                                        <%= dep_time %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Arrival Time:</strong>
                                                                                        <%= arr_time %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Boarding Point
                                                                                            :</strong>
                                                                                        <%= foundBooking.boarding_point
                                                                                            %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Drop Point:</strong>
                                                                                        <%= foundBooking.drop_point %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Seat Number:</strong>
                                                                                        <%= foundBooking.seats %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <strong>Fare:</strong> &#8377;
                                                                                        <%= foundBooking.fare %>
                                                                                    </li>
                                                                                    <li class="list-group-item">
                                                                                        <div class="text-center">
                                                                                            <span
                                                                                                style="font-weight: 500; font-style: italic; color: #1acc8d;">Thank
                                                                                                you
                                                                                                for choosing EazyBus.
                                                                                                Have a safe and happy
                                                                                                journey!</span>
                                                                                        </div>
                                                                                    </li>
                                                                                    <p style="font-size: 14px;">Note :
                                                                                        Please reach boarding point 15
                                                                                        minutes prior to
                                                                                        scheduled departue time to avoid
                                                                                        any delays.</p>
                                                                                </ul>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="text-center">
                                                                        <button id="downloadTicket"
                                                                            class="btn btn-dark"><i
                                                                                class="fa-solid fa-print"
                                                                                style="color: #ffffff; margin-right: 5px;"></i>Print
                                                                            Ticket</button>
                                                                    </div>
                                                                    <div style="margin-top: 1rem;"  class="text-center">
                                                                        <span style="font-size: 15px;">Note: We
                                                                            recommend you to use desktop version of the
                                                                            website for m-Ticket printing.</span>
                                                                    </div>
                                                                </div>
        </section>
    </main><!-- End #main -->

    <!-- ======= Footer ======= -->
    <%- include("partials/footer"); -%>
    <!-- End Footer -->

    <div id="swipe-up">
        <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
                class="bi bi-arrow-up-short"></i></a>
    </div>
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/3ea55f06b5.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    <!-- Template Main JS File -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/printThis.js"></script>
    <script>
        function subscribeClick(e) {
            e.preventDefault();
            document.getElementById("subscribe_form").reset();
            Swal.fire(
                'Hurray! Subscribed!',
                '',
                'success'
            )
            return false;
        }
        const d = new Date();
        let year = d.getFullYear();
        document.getElementById("year").innerHTML = year;

        document.getElementById("downloadTicket")
                .addEventListener("click", function () {
                    $("#mTicket").printThis();
        });
    </script>
</body>

</html>